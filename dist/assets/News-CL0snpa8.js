import{r,j as s,L as x}from"./react-vendor-CqJDUI5z.js";import{q as g,c as j,o as p,g as w}from"./firebase-vendor-DImIJKtj.js";import{d as N}from"./firebase-DBkN4RL2.js";import{H as f,t as u,F as v}from"./Footer-tx99nMFe.js";import{u as L}from"./index-2DRBW9qE.js";function q(){const{language:t}=L(),c=u[t],[i,l]=r.useState([]),[d,m]=r.useState(!0);return r.useEffect(()=>{(async()=>{try{const a=g(j(N,"posts"),p("createdAt","desc")),h=(await w(a)).docs.map(o=>({id:o.id,...o.data()}));l(h)}catch(a){console.error("Error fetching posts:",a)}finally{m(!1)}})()},[]),s.jsxs("div",{className:"app",children:[s.jsx(f,{}),s.jsx("section",{className:"section news-page",children:s.jsxs("div",{className:"container",children:[s.jsx("h1",{className:"section-title",children:c.news.title}),s.jsx("p",{className:"section-description",children:c.news.description}),d?s.jsx("div",{className:"loading",children:c.news.loading}):i.length===0?s.jsx("div",{className:"no-posts",children:c.news.noPosts}):s.jsx("div",{className:"news-grid",children:i.map(e=>{var a,n;return s.jsxs(x,{to:`/news/${e.id}`,className:"news-card",children:[e.image&&s.jsx("div",{className:"news-card-image",children:s.jsx("img",{src:e.image,alt:e.title[t]||e.title.he})}),s.jsxs("div",{className:"news-card-content",children:[s.jsx("h3",{className:"news-card-title",children:e.title[t]||e.title.he}),s.jsx("p",{className:"news-card-excerpt",children:e.excerpt[t]||e.excerpt.he}),s.jsx("span",{className:"news-card-date",children:(n=(a=e.createdAt)==null?void 0:a.toDate)==null?void 0:n.call(a).toLocaleDateString(t==="he"?"he-IL":"en-US")})]})]},e.id)})})]})}),s.jsx(v,{})]})}export{q as default};
