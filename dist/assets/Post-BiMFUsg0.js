import{d as f,r as o,j as s,L as x}from"./react-vendor-CqJDUI5z.js";import{d as u,a as g}from"./firebase-vendor-DImIJKtj.js";import{d as v}from"./firebase-DBkN4RL2.js";import{H as r,t as w,F as l}from"./Footer-tx99nMFe.js";import{u as k}from"./index-2DRBW9qE.js";function y(){var c,m;const{id:d}=f(),{language:a}=k(),n=w[a],[e,j]=o.useState(null),[p,N]=o.useState(!0);return o.useEffect(()=>{(async()=>{try{const t=u(v,"posts",d),i=await g(t);i.exists()&&j({id:i.id,...i.data()})}catch(t){console.error("Error fetching post:",t)}finally{N(!1)}})()},[d]),p?s.jsxs("div",{className:"app",children:[s.jsx(r,{}),s.jsx("section",{className:"section",children:s.jsx("div",{className:"container",children:s.jsx("div",{className:"loading",children:n.news.loading})})}),s.jsx(l,{})]}):e?s.jsxs("div",{className:"app",children:[s.jsx(r,{}),s.jsx("article",{className:"section post-page",children:s.jsxs("div",{className:"container",children:[s.jsx(x,{to:"/news",className:"back-link",children:n.news.backToNews}),s.jsxs("header",{className:"post-header",children:[s.jsx("h1",{className:"post-title",children:e.title[a]||e.title.he}),s.jsx("time",{className:"post-date",children:(m=(c=e.createdAt)==null?void 0:c.toDate)==null?void 0:m.call(c).toLocaleDateString(a==="he"?"he-IL":"en-US")})]}),e.image&&s.jsx("div",{className:"post-image",children:s.jsx("img",{src:e.image,alt:e.title[a]||e.title.he})}),s.jsx("div",{className:"post-content",children:(e.content[a]||e.content.he).split(`
`).map((h,t)=>s.jsx("p",{children:h},t))})]})}),s.jsx(l,{})]}):s.jsxs("div",{className:"app",children:[s.jsx(r,{}),s.jsx("section",{className:"section",children:s.jsx("div",{className:"container",children:s.jsxs("div",{className:"not-found",children:[s.jsx("h1",{children:n.news.notFound}),s.jsx(x,{to:"/news",className:"back-link",children:n.news.backToNews})]})})}),s.jsx(l,{})]})}export{y as default};
